<!-- En-tête -->
<div class="d-flex align-items-center justify-content-between mb-3">
  <h2 class="fs-3 fw-bold text-dark">Utilisateurs <span class="text-muted">({{ les_utilisateurs.length }})</span></h2>
  <button class="btn btn-primary" (click)="openModal_add_utilisateur()">
    <i class="bi bi-plus-circle me-1"></i> Ajouter Utilisateur
  </button>
</div>

<!-- Tableau des utilisateurs -->
<div class="table-responsive shadow-sm rounded-2 border">
  <table class="table align-middle mb-0">
    <thead class="table-light text-uppercase small text-secondary">
      <tr>
        <th class="ps-6 text-muted text-uppercase">Utilisateur</th>
        <th class="ps-6 text-muted text-uppercase">Privilège</th>
        <th class="text-end ps-6 text-muted text-uppercase">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (one_utilisateur of les_utilisateurs; track one_utilisateur) {
      <tr class="border-bottom">
        <!-- Colonne Utilisateur -->
        <td class="ps-4">
          <div class="d-flex align-items-center">
            <!-- Image (désactivée ici) -->
            <!-- <img [src]="one_utilisateur.profil || 'assets/img/default.png'" alt="profil"
              class="rounded-circle me-3 zoomable-img" style="width: 48px; height: 48px; object-fit: cover;"
              (click)="openImageModal(one_utilisateur.profil)"> -->
            <div>
              <div class="fs-5 text-uppercase">{{ one_utilisateur.prenom }} {{ one_utilisateur.nom }}</div>
              <div class="text-muted small ">
                <i class="bi bi-envelope me-1"></i> {{ one_utilisateur.email }}
                <span class="mx-2">|</span>
                <i class="bi bi-telephone me-1"></i> {{ one_utilisateur.telephone }}
              </div>
            </div>
          </div>
        </td>

        <!-- Colonne Privilège -->
        <td>
          <span class="text-muted fw-semibold text-uppercase">
            {{ one_utilisateur.nom_privilege }}
          </span>
        </td>

        <!-- Colonne Actions -->
        <td class="text-end pe-4">
          <i class="bi bi-pencil-square text-warning fs-5 me-2 clique" role="button"
             (click)="openModal_edit_utilisateur(one_utilisateur)"></i>
          <i class="bi bi-trash text-danger fs-5 clique" role="button"
             (click)="delete_utilisateur(one_utilisateur)"></i>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>


<!-- Modal zoom image -->
<div class="modal fade" id="imageZoomModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-2 border-0">
      <img [src]="modalImage" alt="Zoom profil" class="img-fluid rounded shadow-sm">
    </div>
  </div>
</div>